猫样QQ
===

——基于`cqhttp`的QQ通知



## 介绍

当QQ来通知时，在屏幕右侧显示通知，按各个私聊/群聊分组，并支持快速回复。

> 本程序旨在通知悬浮窗，并非完全替代 QQ/TIM，建议结合使用。



## 功能

- 消息悬浮弹窗
- 小窗快速回复
- 群组消息白名单
- 快速发送文件
- 按头像自动调整通知主题色
- 仿安卓音乐通知的渐变卡片
- 自定义消息颜色、尺寸、位置
- 根据消息长度自适应显示时长
- 人性化交互，灵活出现与消失
- 固定对话悬浮窗不隐藏
- 自动缓存聊天文件
- 每个用户和群组单独设置消息重要性
- 根据消息内容动态调整重要性
- 设置本地展示的昵称与群组名
- 远程执行vbs/bat脚本，锁屏、关机、模拟按键等



## 截图

![消息截图](screenshots/screenshot1.png)

![配置截图](screenshots/screenshot2.png)



## 用法

### 启动cqhttp

1. 双击 `cqhttp.exe`，扫码登录。如出现需要认证的信息, 请自行认证设备。

### 启动猫样QQ

1. 双击 `猫样QQ.exe` 或 `CatlikeQQ.exe` 启动
2. 在`账号绑定`页面，输入地址：`ws://127.0.0.1:6700`（以实际配置为准）



## 功能说明

### 优化设置项

打开`config.yml` 文件，修改里面一些配置值；均需重启 Cqhttp 生效。

#### 设置秘钥

如果运行在服务器，强烈建议设置秘钥！若是本地电脑，则可以不用管它。

```yaml
default-middlewares:
  # 访问密钥, 强烈推荐在公网的服务器设置
  access-token: '自定义秘钥'
```

在猫样QQ的账号设置界面，填入相应秘钥。

#### 设置自己消息上报

此项针对多设备的消息进行优化。例如收到消息后电脑展现悬浮窗，自己在手机上回复，会关闭电脑上的悬浮窗。

```yaml
message:
  # 是否上报自身消息
  report-self-message: true
```



### 消息重要性

本程序中每个用户、群组，都有自己的聊天重要性，即优先级。

有如下四级：

- 很重要
- 重要（私聊默认）
- 一般（群聊默认）
- 不重要

在右下角的托盘菜单中，可以设置允许通知的重要性，低于该重要性的消息不会显示通知。



### 不超时消失

“**很重要**” 级别的通知卡片，将会**一直悬浮**在屏幕上，不会主动超时消失（指默认7秒钟后隐藏）。

设置中也可手动开启，针对私聊、群聊进行整体设置。

卡片中的右键菜单关闭、鼠标划过均可隐藏卡片。



### 发送图片

在程序根目录下，有 `catlike_server` 文件夹，需要放到**开启了 PHP 服务的网站目录**下，设置中将该文件夹的访问路径填入“服务主机”设置项中，即可拖拽图片到悬浮通知上，快速发送图片、表情包。



## 常见问题

### 消息发送失败，账号可能被风控？

 如果你刚开始使用 cqhttp 建议挂机3-7天，即可解除风控

### 会被封号吗？

几乎不会，至今没用户被封过，但未来无法完全保证。

